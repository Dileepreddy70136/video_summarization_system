# AUDIO EXTRACTION & AUTO CAPTION SYSTEM - VISUAL GUIDE

## System Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    WEB INTERFACE (HTML/CSS/JS)                   â”‚
â”‚              http://localhost:5000                               â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  [Video Upload Form]                                        â”‚ â”‚
â”‚  â”‚  â”œâ”€ File Input: Select/Drop Video                          â”‚ â”‚
â”‚  â”‚  â”œâ”€ âœ“ Summarize video (keyframes)                          â”‚ â”‚
â”‚  â”‚  â””â”€ âœ“ Auto captions (speech-to-text)  â† YOU CHECK THIS    â”‚ â”‚
â”‚  â”‚  [Process Video Button]                                    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                              â†“                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  [Results Display]                                          â”‚ â”‚
â”‚  â”‚  â”œâ”€ Summary (if checked)                                   â”‚ â”‚
â”‚  â”‚  â”œâ”€ Video Player (if summary made)                         â”‚ â”‚
â”‚  â”‚  â””â”€ ğŸ“‹ AUTO CAPTIONS â† YOUR CAPTIONS APPEAR HERE          â”‚ â”‚
â”‚  â”‚     â”œâ”€ [Full text transcription]                           â”‚ â”‚
â”‚  â”‚     â”œâ”€ [Copy Button] [Download SRT Button]                 â”‚ â”‚
â”‚  â”‚     â””â”€ SRT data (hidden, for download)                     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†‘                                              â†“
         â”‚                                              â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Flask App (app.py) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              BACKEND PROCESSING PIPELINE                         â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                 â”‚
â”‚  â”‚  1. VIDEO INPUT             â”‚                                 â”‚
â”‚  â”‚  â”œâ”€ Uploaded file           â”‚                                 â”‚
â”‚  â”‚  â”œâ”€ Formats: MP4/AVI/MOV    â”‚                                 â”‚
â”‚  â”‚  â””â”€ With audio track        â”‚                                 â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                 â”‚
â”‚                   â†“                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                 â”‚
â”‚  â”‚  2. AUDIO EXTRACTION        â”‚                                 â”‚
â”‚  â”‚  (auto_caption.py)          â”‚                                 â”‚
â”‚  â”‚  â”œâ”€ Tool: FFmpeg            â”‚                                 â”‚
â”‚  â”‚  â”œâ”€ Extracts audio stream   â”‚                                 â”‚
â”‚  â”‚  â”œâ”€ Converts to:            â”‚                                 â”‚
â”‚  â”‚  â”‚  - Format: WAV           â”‚                                 â”‚
â”‚  â”‚  â”‚  - Sample Rate: 16 kHz   â”‚                                 â”‚
â”‚  â”‚  â”‚  - Channels: Mono        â”‚                                 â”‚
â”‚  â”‚  â”‚  - Bits: 16-bit PCM      â”‚                                 â”‚
â”‚  â”‚  â””â”€ Temp file saved         â”‚                                 â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                 â”‚
â”‚                   â†“                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                 â”‚
â”‚  â”‚  3. SPEECH RECOGNITION      â”‚                                 â”‚
â”‚  â”‚  (Whisper Model)            â”‚                                 â”‚
â”‚  â”‚  â”œâ”€ Model: openai/whisper   â”‚                                 â”‚
â”‚  â”‚  â”œâ”€ Size: base (~140 MB)    â”‚                                 â”‚
â”‚  â”‚  â”œâ”€ Framework: Transformers â”‚                                 â”‚
â”‚  â”‚  â”œâ”€ Backend: PyTorch/CPU    â”‚                                 â”‚
â”‚  â”‚  â”œâ”€ Language: English       â”‚                                 â”‚
â”‚  â”‚  â”œâ”€ Output:                 â”‚                                 â”‚
â”‚  â”‚  â”‚  - Full text             â”‚                                 â”‚
â”‚  â”‚  â”‚  - Chunks with times     â”‚                                 â”‚
â”‚  â”‚  â”‚  - Confidence scores     â”‚                                 â”‚
â”‚  â”‚  â””â”€ Accuracy: ~95%          â”‚                                 â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                 â”‚
â”‚                   â†“                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                 â”‚
â”‚  â”‚  4. CAPTION FORMATTING      â”‚                                 â”‚
â”‚  â”‚  â”œâ”€ Plain text output       â”‚                                 â”‚
â”‚  â”‚  â””â”€ SRT format output:      â”‚                                 â”‚
â”‚  â”‚     1                       â”‚                                 â”‚
â”‚  â”‚     00:00:00,000 -->        â”‚                                 â”‚
â”‚  â”‚     00:00:05,000            â”‚                                 â”‚
â”‚  â”‚     "Transcribed text..."   â”‚                                 â”‚
â”‚  â”‚     2                       â”‚                                 â”‚
â”‚  â”‚     00:00:05,000 -->        â”‚                                 â”‚
â”‚  â”‚     00:00:10,000            â”‚                                 â”‚
â”‚  â”‚     "More text..."          â”‚                                 â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                 â”‚
â”‚                   â†“                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                 â”‚
â”‚  â”‚  5. TEMP FILE CLEANUP       â”‚                                 â”‚
â”‚  â”‚  â”œâ”€ Delete WAV file         â”‚                                 â”‚
â”‚  â”‚  â””â”€ Free up disk space      â”‚                                 â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  RETURN TO WEB DISPLAY  â”‚
        â”‚  â”œâ”€ Caption text        â”‚
        â”‚  â”œâ”€ SRT content         â”‚
        â”‚  â””â”€ Status message      â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  USER SEES ON PAGE:     â”‚
        â”‚  âœ“ Full transcription   â”‚
        â”‚  âœ“ Copy button          â”‚
        â”‚  âœ“ Download SRT button  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Data Flow Diagram

```
User Action: Upload Video + Check "Auto Captions"
                    â†“
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚  HTTP POST    â”‚
            â”‚ multipart formâ”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Flask Route Handler    â”‚
        â”‚  @app.route("/", POST)  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Check Form Parameters  â”‚
        â”‚  - video_file           â”‚
        â”‚  - do_caption = "on"    â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Save Video Temporarily â”‚
        â”‚  ./uploads/<filename>   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Call transcribe_video()â”‚
        â”‚  (auto_caption.py)      â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Extract Audio 16kHz    â”‚
        â”‚  _extract_audio_16k()   â”‚
        â”‚  Uses: FFmpeg           â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Load Audio File        â”‚
        â”‚  soundfile.read()       â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Get Whisper Pipeline   â”‚
        â”‚  _get_pipe()            â”‚
        â”‚  First run: Downloads   â”‚
        â”‚  Model cached after     â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Process Audio          â”‚
        â”‚  pipe(audio_data)       â”‚
        â”‚  â†“                      â”‚
        â”‚  Returns JSON:          â”‚
        â”‚  {                      â”‚
        â”‚    "text": "...",       â”‚
        â”‚    "chunks": [...]      â”‚
        â”‚  }                      â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Format SRT             â”‚
        â”‚  _chunks_to_srt()       â”‚
        â”‚  With timestamps        â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Return to Flask        â”‚
        â”‚  {                      â”‚
        â”‚    "text": "string",    â”‚
        â”‚    "srt": "srt_string", â”‚
        â”‚    "error": None        â”‚
        â”‚  }                      â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Render HTML Template   â”‚
        â”‚  Pass to Jinja2         â”‚
        â”‚  - caption_text         â”‚
        â”‚  - caption_srt          â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Return HTML to Browser â”‚
        â”‚  Sections populated:    â”‚
        â”‚  ğŸ“‹ Auto Captions card  â”‚
        â”‚  - Text display area    â”‚
        â”‚  - Copy button (JS)     â”‚
        â”‚  - Download SRT (JS)    â”‚
        â”‚  - Hidden SRT data      â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Component Interactions

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              â”‚         â”‚              â”‚
â”‚  Flask App   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚   Templates  â”‚
â”‚  (app.py)    â”‚         â”‚ (index.html) â”‚
â”‚              â”‚         â”‚              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â”‚ imports & calls
        â”‚
        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   summarizer/                        â”‚
â”‚   â”œâ”€ auto_caption.py                â”‚
â”‚   â”‚  â”œâ”€ transcribe_video()          â”‚
â”‚   â”‚  â”œâ”€ _extract_audio_16k()        â”‚
â”‚   â”‚  â”œâ”€ _get_pipe()                 â”‚
â”‚   â”‚  â”œâ”€ _chunks_to_srt()            â”‚
â”‚   â”‚  â””â”€ Uses: transformers, ffmpeg  â”‚
â”‚   â”‚                                  â”‚
â”‚   â”œâ”€ video_summarizer.py            â”‚
â”‚   â”‚  â”œâ”€ summarize_video()           â”‚
â”‚   â”‚  â”œâ”€ _get_ffmpeg_cmd()           â”‚
â”‚   â”‚  â””â”€ Uses: OpenCV, FFmpeg        â”‚
â”‚   â”‚                                  â”‚
â”‚   â””â”€ youtube_summarizer.py          â”‚
â”‚      â”œâ”€ summarize_youtube()         â”‚
â”‚      â””â”€ Uses: youtube-transcript-apiâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â”‚ external libraries
        â”‚
        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  External Dependencies               â”‚
â”‚  â”œâ”€ FFmpeg (audio extraction)        â”‚
â”‚  â”œâ”€ Transformers (Whisper pipeline)  â”‚
â”‚  â”œâ”€ PyTorch (Whisper inference)      â”‚
â”‚  â”œâ”€ SoundFile (audio I/O)            â”‚
â”‚  â”œâ”€ OpenCV (video processing)        â”‚
â”‚  â””â”€ YouTube-transcript-api (YouTube) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## File Upload & Processing Timeline

```
User Uploads Video (MP4, 50MB, 5 minutes)
â”‚
â”œâ”€ T=0s    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          â”‚ HTTP POST received      â”‚
â”‚          â”‚ File saved to /uploads/ â”‚
â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚
â”œâ”€ T=1s    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          â”‚ FFmpeg extracts audio   â”‚
â”‚          â”‚ MP4 â†’ 16kHz WAV         â”‚
â”‚          â”‚ Size: ~5.6MB            â”‚
â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚
â”œâ”€ T=2s    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          â”‚ Whisper Model Loading   â”‚
â”‚          â”‚ (if first time: +2min)  â”‚
â”‚          â”‚ Thereafter: cached      â”‚
â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚
â”œâ”€ T=3s    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          â”‚ Whisper Processing      â”‚
â”‚          â”‚ Real-time speed:        â”‚
â”‚          â”‚ 5min video = 5min work  â”‚
â”‚          â”‚ (audio length = process â”‚
â”‚          â”‚  time, typically faster)â”‚
â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚
â”œâ”€ T=8min  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          â”‚ Format SRT captions     â”‚
â”‚          â”‚ Add timestamps          â”‚
â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚
â”œâ”€ T=8min  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          â”‚ Cleanup temp files      â”‚
â”‚          â”‚ Delete WAV              â”‚
â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚
â””â”€ T=8min  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚ Display captions on web â”‚
           â”‚ User sees:              â”‚
           â”‚ - Full transcription    â”‚
           â”‚ - SRT file download     â”‚
           â”‚ - Success message       â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Output Formats

### Input: Video File
```
example_video.mp4
â”œâ”€ Video Stream: H.264, 1920x1080, 30fps
â”œâ”€ Audio Stream: AAC, 44.1kHz, Stereo
â”œâ”€ Duration: 5 minutes
â””â”€ Size: 50MB
```

### Processing: Temporary WAV
```
temp_audio_xyz.wav
â”œâ”€ Format: WAV (RIFF)
â”œâ”€ Codec: PCM 16-bit
â”œâ”€ Sample Rate: 16000 Hz
â”œâ”€ Channels: 1 (Mono)
â”œâ”€ Duration: 5 minutes
â””â”€ Size: ~5.6MB (auto-deleted)
```

### Output 1: Plain Text
```
"Welcome to this tutorial. Today we'll cover audio extraction.
Audio extraction is the process of taking audio from a video file.
In this example we're using FFmpeg to do the extraction..."
```

### Output 2: SRT Subtitles
```
1
00:00:00,000 --> 00:00:03,500
Welcome to this tutorial.

2
00:00:03,500 --> 00:00:07,200
Today we'll cover audio extraction.

3
00:00:07,200 --> 00:00:12,000
Audio extraction is the process of taking
audio from a video file.
```

---

## Error Handling Flow

```
User Uploads Video
        â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Validation Check  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Is video file provided?             â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          YES â”‚              â”‚ NO
              â”‚              â””â”€â”€â–º ERROR: "Please upload a video"
              â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Is "Auto captions" checked?         â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          YES â”‚              â”‚ NO
              â”‚              â””â”€â”€â–º (skip caption processing)
              â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Can FFmpeg find file?               â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          YES â”‚              â”‚ NO
              â”‚              â””â”€â”€â–º ERROR: "FFmpeg not found. 
              â”‚                   Download from gyan.dev/ffmpeg"
              â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Can extract audio successfully?     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          YES â”‚              â”‚ NO
              â”‚              â””â”€â”€â–º ERROR: "Could not extract audio. 
              â”‚                   Try different video format"
              â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Can load audio file?                â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          YES â”‚              â”‚ NO
              â”‚              â””â”€â”€â–º ERROR: "Audio file loading failed"
              â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Can Whisper process successfully?   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          YES â”‚              â”‚ NO
              â”‚              â””â”€â”€â–º ERROR: "Transcription failed. 
              â”‚                   Check audio quality"
              â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ âœ“ SUCCESS                           â”‚
    â”‚ Display captions and SRT            â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Browser Display Structure

```
http://localhost:5000
â”‚
â”œâ”€ Header
â”‚  â””â”€ "Video Summarization" title
â”‚
â”œâ”€ Tabs
â”‚  â”œâ”€ "Video" (selected)
â”‚  â””â”€ "YouTube"
â”‚
â”œâ”€ Video Tab Content
â”‚  â”‚
â”‚  â”œâ”€ Upload Form Card
â”‚  â”‚  â”œâ”€ Drop zone for video
â”‚  â”‚  â”œâ”€ âœ“ Summarize video checkbox
â”‚  â”‚  â”œâ”€ âœ“ Auto captions checkbox â† CHECK THIS
â”‚  â”‚  â””â”€ [Process Video] button
â”‚  â”‚
â”‚  â”œâ”€ Status Message (if any)
â”‚  â”‚  â””â”€ "Video processed successfully!" (green)
â”‚  â”‚
â”‚  â”œâ”€ Summary Card (if summarize checked)
â”‚  â”‚  â”œâ”€ Summary text
â”‚  â”‚  â””â”€ [Copy] button
â”‚  â”‚
â”‚  â”œâ”€ Summarized Video Card (if made)
â”‚  â”‚  â””â”€ Video player
â”‚  â”‚
â”‚  â””â”€ ğŸ“‹ Auto Captions Card â† CAPTIONS APPEAR HERE
â”‚     â”‚
â”‚     â”œâ”€ Full transcription in text box
â”‚     â”‚  "Welcome to this video..."
â”‚     â”‚  "Audio extraction is..."
â”‚     â”‚  [more text...]
â”‚     â”‚
â”‚     â”œâ”€ Button Row
â”‚     â”‚  â”œâ”€ [Copy text] - Copy all captions
â”‚     â”‚  â””â”€ [Download SRT] - Download subtitle file
â”‚     â”‚
â”‚     â””â”€ Hidden: SRT file content (for download)
â”‚
â””â”€ Footer
   â””â”€ "AI Video Summarization â€¢ Auto Captions â€¢ YouTube Summarization"
```

---

This visual guide shows:
1. âœ“ System architecture
2. âœ“ Complete data flow
3. âœ“ Component interactions
4. âœ“ Timeline of processing
5. âœ“ Output formats
6. âœ“ Error handling
7. âœ“ Web interface layout

**You're now fully equipped to use the audio extraction and auto-caption system!**
